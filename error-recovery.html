<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Error recovery - Hoplon Tutorial</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.1.24/spectre.min.css" rel="stylesheet" type="text/css"><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/github.min.css" rel="stylesheet" type="text/css"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link href="app.css" rel="stylesheet"></head><body><header class="navbar" style="background-color: rgb(239, 239, 239);"><section class="navbar-section"><a shape="rect" class="navbar-brand" href="/hoplon-tutorial">Hoplon Tutorial</a></section><section class="navbar-section"><a shape="rect" class="btn btn-link" href="contributing.html">Contributing</a><a shape="rect" class="btn btn-link" href="help.html">Help</a></section></header><div class="container grid-960"><div class="columns"><div class="column col-xs-12"><h1>Error recovery</h1><h2>Understanding ClojureScript errors</h2><h3>Generating a Hoplon project</h3><p>Generate a new Hoplon project. Run the following command on a terminal:</p><pre class="hljs bash"><code class="bash">boot <span class="hljs-operator">-d</span> boot/new new -t hoplon -n error-recovery</code></pre><h3>Running the project in development mode</h3><p>Change your directory to the project:</p><pre class="hljs bash"><code class="bash"><span class="hljs-built_in">cd</span> error-recovery</code></pre><p>And run:</p><pre class="hljs"><code class="bash">boot dev</code></pre><p>After the code is compiled open your browser and go to <a shape="rect" href="http://localhost:8000">http://localhost:8000</a>. You should see "Hello Hoplon!" in blue.</p><figure><img class="img-responsive" src="images/hello-hoplon.png" alt="Screenshot with \"Hello Hoplon\" header"><figcaption>Screenshot with "Hello Hoplon" header</figcaption></figure><h3>Making mistakes on index.cljs.hl file</h3><p>Let's make some mistake Open the file <code>src/index.cljs.hl</code> inside the project directory, in your favorite editor. You should see the code below:</p><pre class="hljs clojure"><code class="clojure"><span class="hljs-list">(<span class="hljs-keyword">page</span><span class="hljs-string">"index.html"</span>)</span><span class="hljs-list">(<span class="hljs-keyword">html</span><span class="hljs-list">(<span class="hljs-keyword">head</span><span class="hljs-list">(<span class="hljs-keyword">link</span><span class="hljs-attribute">:href</span><span class="hljs-string">"app.css"</span><span class="hljs-attribute">:rel</span><span class="hljs-string">"stylesheet"</span><span class="hljs-attribute">:type</span><span class="hljs-string">"text/css"</span>)</span>)</span><span class="hljs-list">(<span class="hljs-keyword">body</span><span class="hljs-list">(<span class="hljs-keyword">h1</span><span class="hljs-string">"Hello, Hoplon!"</span>)</span>)</span>)</span></code></pre><h4>Unbalanced parentheses</h4><h5>Not closing a form</h5><p>In ClojureScript you will get errros if you don't close your forms. Remove one of the parentheses in the end of the <code>(h1 "Hello, Hoplon!")))</code></p><pre class="hljs clojure"><code class="clojure"><span class="hljs-list">(<span class="hljs-keyword">page</span><span class="hljs-string">"index.html"</span>)</span><span class="hljs-list">(<span class="hljs-keyword">html</span><span class="hljs-list">(<span class="hljs-keyword">head</span><span class="hljs-list">(<span class="hljs-keyword">link</span><span class="hljs-attribute">:href</span><span class="hljs-string">"app.css"</span><span class="hljs-attribute">:rel</span><span class="hljs-string">"stylesheet"</span><span class="hljs-attribute">:type</span><span class="hljs-string">"text/css"</span>)</span>)</span><span class="hljs-list">(<span class="hljs-keyword">body</span><span class="hljs-list">(<span class="hljs-keyword">h1</span><span class="hljs-string">"Hello, Hoplon!"</span>)</span>)</span></span></code></pre><p>When you save the file you will get the following message on the terminal running <code>boot dev</code>.</p><pre class="hljs bash"><code class="bash">Writing HTML files...
• index.html
Adding :require adzerk.boot-reload.init3509 to index.html.cljs.edn...
Compiling ClojureScript...
• index.html.js
adzerk.boot_cljs.util.proxy<span class="hljs-variable">$clojure</span>.lang.ExceptionInfo<span class="hljs-variable">$ff19274a</span>: ERROR: EOF <span class="hljs-keyword">while</span> reading, starting at line <span class="hljs-number">3</span> and column <span class="hljs-number">1</span> at file hoplon/app_pages/_index_DOT_html.cljs, line <span class="hljs-number">8</span>, column <span class="hljs-number">1</span>

    data: {:<span class="hljs-built_in">type</span> :reader-exception,
           :line <span class="hljs-number">8</span>,
           :column <span class="hljs-number">1</span>,
           :file <span class="hljs-string">"hoplon/app_pages/_index_DOT_html.cljs"</span>,
           :from :boot-cljs}
adzerk.boot_cljs.util.proxy<span class="hljs-variable">$clojure</span>.lang.ExceptionInfo<span class="hljs-variable">$ff19274a</span>: EOF <span class="hljs-keyword">while</span> reading, starting at line <span class="hljs-number">3</span> and column <span class="hljs-number">1</span>
    data: {:<span class="hljs-built_in">type</span> :reader-exception,
           :line <span class="hljs-number">8</span>,
           :column <span class="hljs-number">1</span>,
           :file
           <span class="hljs-string">"/home/y/.dotfiles/dotfiles/boot/cache/tmp/home/y/repos/hoplon/hoplon-project/eb4/6qp7pj/hoplon/app_pages/_index_DOT_html.cljs"</span>}
                                      clojure.core/ex-info/invokeStatic          core.clj: <span class="hljs-number">4617</span>
                                                   clojure.core/ex-info          core.clj: <span class="hljs-number">4617</span>
            clojure.tools.reader.reader-types/reader-error/invokeStatic  reader_types.clj:  <span class="hljs-number">389</span>
                         clojure.tools.reader.reader-types/reader-error  reader_types.clj:  <span class="hljs-number">385</span>
                                                                    ...
                       clojure.tools.reader/<span class="hljs-built_in">read</span>-delimited/invokeStatic        reader.clj:  <span class="hljs-number">201</span>
                                    clojure.tools.reader/<span class="hljs-built_in">read</span>-delimited        reader.clj:  <span class="hljs-number">190</span>
                            clojure.tools.reader/<span class="hljs-built_in">read</span>-list/invokeStatic        reader.clj:  <span class="hljs-number">210</span>
                                         clojure.tools.reader/<span class="hljs-built_in">read</span>-list        reader.clj:  <span class="hljs-number">206</span>
                                clojure.tools.reader/<span class="hljs-built_in">read</span>*/invokeStatic        reader.clj:  <span class="hljs-number">916</span>
                                             clojure.tools.reader/<span class="hljs-built_in">read</span>*        reader.clj:  <span class="hljs-number">897</span>
                                 clojure.tools.reader/<span class="hljs-built_in">read</span>/invokeStatic        reader.clj:  <span class="hljs-number">965</span>
                                              clojure.tools.reader/<span class="hljs-built_in">read</span>        reader.clj:  <span class="hljs-number">942</span>
cljs.analyzer<span class="hljs-variable">$forms_seq_STAR_</span><span class="hljs-variable">$forms_seq___2315</span><span class="hljs-variable">$fn__2316</span><span class="hljs-variable">$fn__2317</span>.invoke     analyzer.cljc: <span class="hljs-number">3112</span>
         cljs.analyzer<span class="hljs-variable">$forms_seq_STAR_</span><span class="hljs-variable">$forms_seq___2315</span><span class="hljs-variable">$fn__2316</span>.invoke     analyzer.cljc: <span class="hljs-number">3105</span>
                                                                    ...
                                          clojure.core/seq/invokeStatic          core.clj:  <span class="hljs-number">137</span>
                                                       clojure.core/seq          core.clj:  <span class="hljs-number">137</span>
                                 cljs.compiler<span class="hljs-variable">$emit_source</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1255</span>
                                       cljs.compiler<span class="hljs-variable">$emit_source</span>.invoke     compiler.cljc: <span class="hljs-number">1237</span>
                       cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span><span class="hljs-variable">$fn__3623</span>.invoke     compiler.cljc: <span class="hljs-number">1328</span>
                              cljs.compiler<span class="hljs-variable">$with_core_cljs</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1159</span>
                                    cljs.compiler<span class="hljs-variable">$with_core_cljs</span>.invoke     compiler.cljc: <span class="hljs-number">1150</span>
                          cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1317</span>
                                cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span>.invoke     compiler.cljc: <span class="hljs-number">1313</span>
                             cljs.compiler<span class="hljs-variable">$compile_file</span><span class="hljs-variable">$fn__3646</span>.invoke     compiler.cljc: <span class="hljs-number">1398</span>
                                cljs.compiler<span class="hljs-variable">$compile_file</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1376</span>
                                      cljs.compiler<span class="hljs-variable">$compile_file</span>.invoke     compiler.cljc: <span class="hljs-number">1356</span>
                                 cljs.closure/compile-file/invokeStatic       closure.clj:  <span class="hljs-number">432</span>
                                              cljs.closure/compile-file       closure.clj:  <span class="hljs-number">423</span>
                                               cljs.closure/<span class="hljs-built_in">eval</span>5411/fn       closure.clj:  <span class="hljs-number">499</span>
                                             cljs.closure/<span class="hljs-built_in">eval</span>5347/fn/G       closure.clj:  <span class="hljs-number">389</span>
                                               cljs.closure/<span class="hljs-built_in">eval</span>5417/fn       closure.clj:  <span class="hljs-number">508</span>
                                             cljs.closure/<span class="hljs-built_in">eval</span>5347/fn/G       closure.clj:  <span class="hljs-number">389</span>
                                   cljs.closure/compile-sources/iter/fn       closure.clj:  <span class="hljs-number">829</span>
                                                                    ...
                                         clojure.core/next/invokeStatic          core.clj:   <span class="hljs-number">64</span>
                                        clojure.core/dorun/invokeStatic          core.clj: <span class="hljs-number">3033</span>
                                        clojure.core/doall/invokeStatic          core.clj: <span class="hljs-number">3039</span>
                                                     clojure.core/doall          core.clj: <span class="hljs-number">3039</span>
                              cljs.closure/compile-sources/invokeStatic       closure.clj:  <span class="hljs-number">825</span>
                                           cljs.closure/compile-sources       closure.clj:  <span class="hljs-number">814</span>
                                        cljs.closure/build/invokeStatic       closure.clj: <span class="hljs-number">1945</span>
                                                     cljs.closure/build       closure.clj: <span class="hljs-number">1883</span>
                                      cljs.build.api/build/invokeStatic           api.clj:  <span class="hljs-number">199</span>
                                                   cljs.build.api/build           api.clj:  <span class="hljs-number">187</span>
                        adzerk.boot-cljs.impl/compile-cljs/invokeStatic          impl.clj:   <span class="hljs-number">89</span>
                                     adzerk.boot-cljs.impl/compile-cljs          impl.clj:   <span class="hljs-number">66</span>
                                                                    ...
                                        clojure.core/apply/invokeStatic          core.clj:  <span class="hljs-number">646</span>
                                                     clojure.core/apply          core.clj:  <span class="hljs-number">641</span>
                                                  boot.pod/<span class="hljs-built_in">eval</span>-fn-call           pod.clj:  <span class="hljs-number">328</span>
                                                      boot.pod/call-in*           pod.clj:  <span class="hljs-number">379</span>
                                                                    ...
                                                      boot.pod/call-in*           pod.clj:  <span class="hljs-number">382</span>
                                  adzerk.boot-cljs/compile/invokeStatic     boot_cljs.clj:   <span class="hljs-number">71</span>
                                               adzerk.boot-cljs/compile     boot_cljs.clj:   <span class="hljs-number">59</span>
                                          adzerk.boot-cljs/compile-<span class="hljs-number">1</span>/fn     boot_cljs.clj:  <span class="hljs-number">126</span>
                                    clojure.core/binding-conveyor-fn/fn          core.clj: <span class="hljs-number">1938</span>
                                                                    ...
Elapsed time: <span class="hljs-number">0.211</span> sec</code></pre><p>While this is not a very nice message it sure tells you that you have a problem. But this gets better. If you look at your browser window there is something there for you too:</p><figure><img class="img-responsive" src="images/error-message.png" alt="Screenshot with a cljs error message"><figcaption>Screenshot with a cljs error message of parentheses not closed</figcaption></figure><p>The important part of the error displayed on the terminal shows at your browser too.</p><p>The error is <code style="white-space: normal;">ERROR: EOF while reading, starting at line 3 and column 1 at file hoplon/app_pages/_index_DOT_html.cljs, line 8, column 1</code>. An <code>EOF</code> usually means that the file ended but the form was incomplete. So you probably have an open parenthesis without a closing one. <code style="white-space: normal;">starting at line 3 and column 1</code> is the location of the open parenthesis that was not closed.</p><p>Wait a minute. We didn't close the parenthesis from the <code>(h1</code> form. Well, the reader has no way to know that. The parentheses are closed in the order reversed, so the last opened one is closed first. In the end there is one parenthesis that was not closed and that parenthesis was opened on line 3, column 1.</p><p>You can now fix the <code>src/index.cljs.hl</code> adding the removed parenthesis back.</p><h5>Closing a form not opened</h5><p>Also if you close a form that was not opened you will get errors. Add one extra closing parenthesis in the end of the <code>(ns "index.html")))</code></p><pre class="hljs bash"><code class="clojure">(page <span class="hljs-string">"index.html"</span>))

(html
  (head
    (link :href <span class="hljs-string">"app.css"</span> :rel <span class="hljs-string">"stylesheet"</span> :<span class="hljs-built_in">type</span><span class="hljs-string">"text/css"</span>))
  (body
    (h1 <span class="hljs-string">"Hello, Hoplon!"</span>)))</code></pre><p>When you save the file you will get the following message on the terminal running <code>boot dev</code>.</p><pre class="hljs bash"><code class="bash">Writing HTML files...
• index.html
Adding :require adzerk.boot-reload.init3509 to index.html.cljs.edn...
Compiling ClojureScript...
• index.html.js
adzerk.boot_cljs.util.proxy<span class="hljs-variable">$clojure</span>.lang.ExceptionInfo<span class="hljs-variable">$ff19274a</span>: ERROR: Unmatched delimiter ) at file hoplon/app_pages/_index_DOT_html.cljs, line <span class="hljs-number">1</span>, column <span class="hljs-number">1598</span>

    data: {:<span class="hljs-built_in">type</span> :reader-exception,
           :line <span class="hljs-number">1</span>,
           :column <span class="hljs-number">1598</span>,
           :file <span class="hljs-string">"hoplon/app_pages/_index_DOT_html.cljs"</span>,
           :from :boot-cljs}
adzerk.boot_cljs.util.proxy<span class="hljs-variable">$clojure</span>.lang.ExceptionInfo<span class="hljs-variable">$ff19274a</span>: Unmatched delimiter )
    data: {:<span class="hljs-built_in">type</span> :reader-exception,
           :line <span class="hljs-number">1</span>,
           :column <span class="hljs-number">1598</span>,
           :file
           <span class="hljs-string">"/home/y/.dotfiles/dotfiles/boot/cache/tmp/home/y/repos/hoplon/hoplon-project/dvg/6qp7pj/hoplon/app_pages/_index_DOT_html.cljs"</span>}
                                      clojure.core/ex-info/invokeStatic          core.clj: <span class="hljs-number">4617</span>
                                                   clojure.core/ex-info          core.clj: <span class="hljs-number">4617</span>
            clojure.tools.reader.reader-types/reader-error/invokeStatic  reader_types.clj:  <span class="hljs-number">389</span>
                         clojure.tools.reader.reader-types/reader-error  reader_types.clj:  <span class="hljs-number">385</span>
                                                                    ...
             clojure.tools.reader/<span class="hljs-built_in">read</span>-unmatched-delimiter/invokeStatic        reader.clj:   <span class="hljs-number">76</span>
                          clojure.tools.reader/<span class="hljs-built_in">read</span>-unmatched-delimiter        reader.clj:   <span class="hljs-number">74</span>
                                clojure.tools.reader/<span class="hljs-built_in">read</span>*/invokeStatic        reader.clj:  <span class="hljs-number">916</span>
                                             clojure.tools.reader/<span class="hljs-built_in">read</span>*        reader.clj:  <span class="hljs-number">897</span>
                                 clojure.tools.reader/<span class="hljs-built_in">read</span>/invokeStatic        reader.clj:  <span class="hljs-number">965</span>
                                              clojure.tools.reader/<span class="hljs-built_in">read</span>        reader.clj:  <span class="hljs-number">942</span>
cljs.analyzer<span class="hljs-variable">$forms_seq_STAR_</span><span class="hljs-variable">$forms_seq___2315</span><span class="hljs-variable">$fn__2316</span><span class="hljs-variable">$fn__2317</span>.invoke     analyzer.cljc: <span class="hljs-number">3112</span>
         cljs.analyzer<span class="hljs-variable">$forms_seq_STAR_</span><span class="hljs-variable">$forms_seq___2315</span><span class="hljs-variable">$fn__2316</span>.invoke     analyzer.cljc: <span class="hljs-number">3105</span>
                                                                    ...
                                          clojure.core/seq/invokeStatic          core.clj:  <span class="hljs-number">137</span>
                                                       clojure.core/seq          core.clj:  <span class="hljs-number">137</span>
                                 cljs.compiler<span class="hljs-variable">$emit_source</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1255</span>
                                       cljs.compiler<span class="hljs-variable">$emit_source</span>.invoke     compiler.cljc: <span class="hljs-number">1237</span>
                       cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span><span class="hljs-variable">$fn__3623</span>.invoke     compiler.cljc: <span class="hljs-number">1328</span>
                              cljs.compiler<span class="hljs-variable">$with_core_cljs</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1159</span>
                                    cljs.compiler<span class="hljs-variable">$with_core_cljs</span>.invoke     compiler.cljc: <span class="hljs-number">1150</span>
                          cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1317</span>
                                cljs.compiler<span class="hljs-variable">$compile_file_STAR_</span>.invoke     compiler.cljc: <span class="hljs-number">1313</span>
                             cljs.compiler<span class="hljs-variable">$compile_file</span><span class="hljs-variable">$fn__3646</span>.invoke     compiler.cljc: <span class="hljs-number">1398</span>
                                cljs.compiler<span class="hljs-variable">$compile_file</span>.invokeStatic     compiler.cljc: <span class="hljs-number">1376</span>
                                      cljs.compiler<span class="hljs-variable">$compile_file</span>.invoke     compiler.cljc: <span class="hljs-number">1356</span>
                                 cljs.closure/compile-file/invokeStatic       closure.clj:  <span class="hljs-number">432</span>
                                              cljs.closure/compile-file       closure.clj:  <span class="hljs-number">423</span>
                                               cljs.closure/<span class="hljs-built_in">eval</span>5411/fn       closure.clj:  <span class="hljs-number">499</span>
                                             cljs.closure/<span class="hljs-built_in">eval</span>5347/fn/G       closure.clj:  <span class="hljs-number">389</span>
                                               cljs.closure/<span class="hljs-built_in">eval</span>5417/fn       closure.clj:  <span class="hljs-number">508</span>
                                             cljs.closure/<span class="hljs-built_in">eval</span>5347/fn/G       closure.clj:  <span class="hljs-number">389</span>
                                   cljs.closure/compile-sources/iter/fn       closure.clj:  <span class="hljs-number">829</span>
                                                                    ...
                                         clojure.core/next/invokeStatic          core.clj:   <span class="hljs-number">64</span>
                                        clojure.core/dorun/invokeStatic          core.clj: <span class="hljs-number">3033</span>
                                        clojure.core/doall/invokeStatic          core.clj: <span class="hljs-number">3039</span>
                                                     clojure.core/doall          core.clj: <span class="hljs-number">3039</span>
                              cljs.closure/compile-sources/invokeStatic       closure.clj:  <span class="hljs-number">825</span>
                                           cljs.closure/compile-sources       closure.clj:  <span class="hljs-number">814</span>
                                        cljs.closure/build/invokeStatic       closure.clj: <span class="hljs-number">1945</span>
                                                     cljs.closure/build       closure.clj: <span class="hljs-number">1883</span>
                                      cljs.build.api/build/invokeStatic           api.clj:  <span class="hljs-number">199</span>
                                                   cljs.build.api/build           api.clj:  <span class="hljs-number">187</span>
                        adzerk.boot-cljs.impl/compile-cljs/invokeStatic          impl.clj:   <span class="hljs-number">89</span>
                                     adzerk.boot-cljs.impl/compile-cljs          impl.clj:   <span class="hljs-number">66</span>
                                                                    ...
                                        clojure.core/apply/invokeStatic          core.clj:  <span class="hljs-number">646</span>
                                                     clojure.core/apply          core.clj:  <span class="hljs-number">641</span>
                                                  boot.pod/<span class="hljs-built_in">eval</span>-fn-call           pod.clj:  <span class="hljs-number">328</span>
                                                      boot.pod/call-in*           pod.clj:  <span class="hljs-number">379</span>
                                                                    ...
                                                      boot.pod/call-in*           pod.clj:  <span class="hljs-number">382</span>
                                  adzerk.boot-cljs/compile/invokeStatic     boot_cljs.clj:   <span class="hljs-number">71</span>
                                               adzerk.boot-cljs/compile     boot_cljs.clj:   <span class="hljs-number">59</span>
                                          adzerk.boot-cljs/compile-<span class="hljs-number">1</span>/fn     boot_cljs.clj:  <span class="hljs-number">126</span>
                                    clojure.core/binding-conveyor-fn/fn          core.clj: <span class="hljs-number">1938</span>
                                                                    ...
Elapsed time: <span class="hljs-number">0.385</span> sec</code></pre><p>While this is not a very nice message it sure tells you that you have a problem. But this gets better. If you look at your browser window there is something there for you too:</p><figure><img class="img-responsive" src="images/error-message-not-closed.png" alt="Screenshot with a cljs error message"><figcaption>Screenshot with a cljs error message of closing parentheses not open</figcaption></figure><p>The important part of the error displayed on the terminal shows at your browser too.</p><p>The error is <code style="white-space: normal;">ERROR: Unmatched delimiter ) at file hoplon/app_pages/_index_DOT_html.cljs, line 1, column 1598</code>. An <code>Unmatched delimiter )</code> is a straightforward message at least. It means that the there is a closing <code>)</code> without one being opened.<code style="white-space: normal;">starting at line 1 and column 1598</code> is the location of the open parenthesis that was not closed. The column number seems like an error but during the expansion of the <code>page</code> macro the <code>ns</code> form that is generated is:</p><pre class="hljs clojure"><code class="clojure"><span class="hljs-list">(<span class="hljs-keyword"><span class="hljs-built_in">ns</span></span> hoplon.app-pages._index_DOT_html <span class="hljs-list">(<span class="hljs-attribute">:require</span><span class="hljs-collection">[javelin.core <span class="hljs-attribute">:refer</span><span class="hljs-collection">[-&gt;Cell input? cell cell? destroy-cell! lift lens? set-formula! cell-doseq* deref* set-cell! lens formula? alts! dosync* cell-map formula]</span>]</span><span class="hljs-collection">[hoplon.core <span class="hljs-attribute">:refer</span><span class="hljs-collection">[form audio input menuitem hgroup do! timeout $text base h1 set-attributes! embed h3 body keygen progress main cite on-page-load object i p nav ruby check-val! a menu blockquote img $comment span track data u dl select html thead del eventsource fieldset aside figure figcaption q on! bdi append-child! video address caption dd rp hr tbody table acronym frame applet html-var add-initfn! pre ul dir replace-child! html-time html-map sup dfn sub mark script big button wbr insert-before! strong li dt rtc frameset td tr section th optgroup bust-cache iframe remove-child! legend em kbd spliced article isindex abbr command prerendering? &lt;!-- source output set-styles! basefont route-cell header datalist tfoot s ins footer title h5 canvas param font div option ensure-kids! summary samp center small style textarea loop-tpl* strike h4 tt head ol details col label rt when-dom h6 link page-load colgroup meter html-meta static-elements text-val! bdo --&gt; b code dialog noframes do-watch noscript safe-nth h2 area br]</span>]</span>)</span><span class="hljs-list">(<span class="hljs-attribute">:require-macros</span><span class="hljs-collection">[javelin.core <span class="hljs-attribute">:refer</span><span class="hljs-collection">[with-let mx2 dosync cell= set-cell!= prop-cell cell-doseq defc cell-let-1 defc= macroexpand-all mx cell-let]</span>]</span><span class="hljs-collection">[hoplon.core <span class="hljs-attribute">:refer</span><span class="hljs-collection">[text elem+ cache-key with-timeout defelem+ when-tpl static sexp defelem elem def-values if-tpl cond-tpl with-page-load for-tpl with-dom case-tpl loop-tpl with-interval with-init!]</span>]</span>)</span>)</span></code></pre><p>So the extra closing parenthesis is at column 1598.</p><p>The error will be the same except by the character itself if you close a <code>]</code> or a <code>}</code> that is not open. So the message in this case would be <code style="white-space: normal;">ERROR: Unmatched delimiter ] at file hoplon/app_pages/_index_DOT_html.cljs, line 1, column 1598</code> or <code style="white-space: normal;">ERROR: Unmatched delimiter } at file hoplon/app_pages/_index_DOT_html.cljs, line 1, column 1598</code>.</p><p>You can now fix the <code>src/index.cljs.hl</code> removing the extra parenthesis.</p><h4>Undeclared variables</h4><p>Another common error is using a variable not declared yet In ClojureScript variables have to be declared before they are used. Or you can mistype a variable.</p><p>Let's edit <code>src/index.cljs.hl</code> replacing <code>(h1</code> with <code>(h7</code>. <code>h7</code> doesn't exist so it's not declared. What happens?</p><p>On the browser you will see:</p><figure><img class="img-responsive" src="images/undefined-warning.png" alt="Screenshot with a cljs warning message"><figcaption>Screenshot with a cljs warning message of undeclared variable</figcaption></figure><p>On the terminal you can see the same warning:</p><pre class="hljs"><code class="bash">Writing HTML files...
• index.html
Adding :require adzerk.boot-reload.init3509 to index.html.cljs.edn...
Compiling ClojureScript...
• index.html.js
WARNING: Use of undeclared Var hoplon.app-pages._index_DOT_html/h7 at line 7 hoplon/app_pages/_index_DOT_html.cljs
Elapsed time: 0.302 sec</code></pre><p>Let's explain the error. <code>Use of undeclared Var</code> describes the problem. So a variable that has not being declared was used. Next is the variable itself: <code>hoplon.app-pages._index_DOT_html/h7</code>. Well, where did that come from?</p><p>When you see a variable or a keyword in ClojureScript they may be qualified or unqualified. Qualified variables are in the form <code>namespace/variable-name</code> and unqualified ones are simply <code>variable-name</code>. We will discuss namespaces in more depth later but for now you need to know that <code>hoplon.app-pages._index_DOT_html</code> is a namespace and <code>h7</code> is a variable name.</p><p>The namespace <code>hoplon.app-pages._index_DOT_html</code> was generated by Hoplon when we used the <code>page</code> macro in <code>(page "index.html")</code>. So the rule is that a namespace will be generated with the format <code>hoplon.app-pages.<strong>page-name</strong>_DOT_html</code>. In our case <code>page-name</code> is <code>index</code>.</p><p>By default namespaces in <code>.hl</code> files have all variables from ClojureScript core, Hoplon core and Javelin core refered. This means that we can use then unqualified. But when we use a variable not declared on those namespaces the compiler complains saying that it could not find the variable on the namespace that's trying to use it. That's why the message is <code>Use of undeclared Var hoplon.app-pages._index_DOT_html/h7</code>.</p><p>Next we have <code>at line 7 hoplon/app_pages/_index_DOT_html.cljs</code>. That says the line where the variable was used and the file name. In ClojureScript there is a correspondence between namespaces names and file paths. The original <code>index.cljs.hl</code> file is transformed by <code>boot-hoplon</code> in the <code>hoplon/app_pages/_index_DOT_html.cljs</code> file with the namespace <code>hoplon.app-pages._index_DOT_html</code> as we saw before.</p><p>You can now fix the <code>src/index.cljs.hl</code> replacing <code>h7</code> with <code>h1</code>.</p><h2>Next steps</h2><p>We will understand a bit more about <a shape="rect" href="introduction-to-clojurescript.html">ClojureScript</a> itself.</p></div></div></div><script type="text/javascript" src="error-recovery.html.js"></script></body></html>